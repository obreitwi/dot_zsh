# prepend_path PATH "${HOME}/.local-stack/bin"
prepend_path PATH "${HOME}/.xmonad/bin"
prepend_path PATH "${HOME}/.cabal/bin"
prepend_path PATH "${HOME}/.cargo/bin"
prepend_path PATH "${HOME}/.pub-cache/bin"

if [ -z "${GOPATH:-}" ]; then
    export GOPATH="$HOME/go"
fi
prepend_path PATH "${GOPATH}/bin"

if which bat >/dev/null; then
    export BAT_PAGER="less -RF"
    export MANPAGER="sh -c 'col -b | bat -l man -p'"
fi

PYTHONPATH="$HOME/.local/lib/python$(get_python_version)/site-packages${PYTHONPATH:+:${PYTHONPATH}}"
export PYTHONPATH

alias restic_mimir="restic -r sftp:$USER@zqnr.de:backup/restic/mimir --password-command=\"op item get 3kvwprrtuezerlo6oofod6re3q --fields password\""
alias setup_1password="op signin --account freiheit > ~/.op/session; source ~/.op/session"
alias rblm='rev-backlog -m -c'

CHROME_EXECUTABLE="$(which google-chrome-stable)"
export CHROME_EXECUTABLE

set_home() {
    browser_set_firefox
    vimwiki_set_private
}

set_work() {
    browser_set_chrome
    vimwiki_set_work
}

reset_webcam() {
    sudo reset_usb 1bcf:2cb4
}

# create a new branch
git-branch-story() {
    git checkout -b "ojb/$(revcli stories --jira)/$(gum input --placeholder "branch name")" origin/main
}

# create a new branch from any story
git-branch-backlog() { # <args for rev-backlog>
    git checkout -b "ojb/$(rev-git-ids -j "$(rev-backlog "$@")")/$(gum input --placeholder "branch name")" origin/main
}
#
# create a new branch
git-story-open() {
    rev-backlog -j "$(git-branch-jira-id)" -w
}

image-flutter() {
    grep -A 1 '"flutter-web"' "$(git rev-parse --show-toplevel)/Jenkinsfile" | tail -n 1 | awk '{print $2}' | tr -d "','"
}

source "$HOME/doc-fdc/scripts/folders.zsh"

# vim: ft=sh
