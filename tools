if which broot >/dev/null; then
    source "${HOME}/.zsh/broot"
fi

if which fzf >/dev/null; then
    if zvm_available; then
        zvm_after_init_commands+=(
        # system-wide install
        '[ -f /usr/share/fzf/key-bindings.zsh ] && source /usr/share/fzf/key-bindings.zsh'
        '[ -f /usr/share/fzf/completion.zsh ] && source /usr/share/fzf/completion.zsh'

        # local install
        '[ -f ~/.local/share/fzf/key-bindings.zsh ] && source ~/.local/share/fzf/key-bindings.zsh'
        '[ -f ~/.local/share/fzf/completion.zsh ] && source ~/.local/share/fzf/completion.zsh'
        )
    else
        # system-wide install
        [ -f /usr/share/fzf/key-bindings.zsh ] && source /usr/share/fzf/key-bindings.zsh
        [ -f /usr/share/fzf/completion.zsh ] && source /usr/share/fzf/completion.zsh

        # local install
        [ -f ~/.local/share/fzf/key-bindings.zsh ] && source ~/.local/share/fzf/key-bindings.zsh
        [ -f ~/.local/share/fzf/completion.zsh ] && source ~/.local/share/fzf/completion.zsh
    fi
fi

if [ -f /opt/textidote/textidote.zsh ]; then
    source /opt/textidote/textidote.zsh
fi

if which carapace >/dev/null; then
    # Loading all of carapace breaks file completion in too many places:
    # just load what we need: gh completions
    source <(carapace gh zsh)
fi

if [ -f /opt/google-cloud-sdk/completion.zsh.inc ]; then
    source /opt/google-cloud-sdk/completion.zsh.inc
fi
if [ -f /opt/google-cloud-sdk/path.zsh.inc ]; then
    source /opt/google-cloud-sdk/path.zsh.inc
fi

# vim: ft=zsh
